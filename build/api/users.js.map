{"version":3,"sources":["../../src/api/users.js"],"names":["usersApi","app","User","get","req","res","next","send","post","body","find","docs","create","id","length","toString","padStart","user","status","OK","json","toGraph","console","error","message","INTERNAL_SERVER_ERROR"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;AAEA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAACC,GAAD,QAAmB;AAAA,MAAXC,IAAW,QAAXA,IAAW;AAChCD,EAAAA,GAAG,CAACE,GAAJ,CAAQ,QAAR,EAAkB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAClCD,IAAAA,GAAG,CAACE,IAAJ,CAAS,IAAT;AACH,GAFD;AAGAN,EAAAA,GAAG,CAACO,IAAJ,CAAS,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAmB,iBAAOJ,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACPG,cAAAA,IADO,GACEL,GADF,CACPK,IADO;AAAA;AAAA;AAAA,qBAGQP,IAAI,CAACQ,IAAL,EAHR;;AAAA;AAGLC,cAAAA,IAHK;AAAA;AAAA,qBAIQT,IAAI,CAACU,MAAL,mBACZH,IADY;AAEfI,gBAAAA,EAAE,EAAEF,IAAI,CAACG,MAAL,CAAYC,QAAZ,GAAuBC,QAAvB,CAAgC,CAAhC,EAAkC,GAAlC;AAFW,iBAJR;;AAAA;AAILC,cAAAA,IAJK;AAQXZ,cAAAA,GAAG,CAACa,MAAJ,CAAWA,oBAAOC,EAAlB,EAAsBC,IAAtB,CAA2BH,IAAI,CAACI,OAAL,EAA3B;AARW;AAAA;;AAAA;AAAA;AAAA;AAWXC,cAAAA,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB;AAXW,+CAYJnB,GAAG,CAACa,MAAJ,CAAWA,oBAAOO,qBAAlB,EAAyClB,IAAzC,CAA8C,YAAIiB,OAAlD,CAZI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAnB;;AAAA;AAAA;AAAA;AAAA;AAiBH,CArBD;;eAsBexB,Q","sourcesContent":["import status from 'http-status';\n\nconst usersApi = (app, { User }) => {\n    app.get('/users', (req, res, next) => {\n        res.send('OK')\n    })\n    app.post('/users', async (req, res, next) => {\n        const { body } = req;\n        try{\n            const docs = await User.find();\n            const user = await User.create({\n                ...body,\n                id: docs.length.toString().padStart(4,\"0\")\n            })\n            res.status(status.OK).json(user.toGraph());\n        }\n        catch (err){\n            console.error(err.message)\n            return res.status(status.INTERNAL_SERVER_ERROR).send(err.message);\n        }\n\n    })\n\n}\nexport default usersApi;"],"file":"users.js"}