{"version":3,"sources":["../src/index.js"],"names":["serverSettings","config","dbSettings","db","process","on","err","console","error","promise","mediator","EventEmitter","main","models","log","server","start","port","host","connect","emit"],"mappings":";;AAAA;;AACA;;AACA;;;;;;;;IAEQA,c,GAAmCC,e,CAAnCD,c;IAAgBE,U,GAAmBD,e,CAAnBC,U;IAAYC,E,GAAOF,e,CAAPE,E;AAEpCC,OAAO,CAACC,EAAR,CAAW,mBAAX,EAAgC,UAACC,GAAD,EAAS;AACrCC,EAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd,EAAqCF,GAArC;AACH,CAFD;AAGAF,OAAO,CAACC,EAAR,CAAW,mBAAX,EAAgC,UAACC,GAAD,EAAMG,OAAN,EAAkB;AAC9CF,EAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd,EAAqCF,GAArC;AACH,CAFD;AAIA,IAAMI,QAAQ,GAAG,IAAIC,oBAAJ,EAAjB;;AACA,IAAMC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,iBAAOC,MAAP;AAAA;AAAA;AAAA;AAAA;AACTN,YAAAA,OAAO,CAACO,GAAR,CAAY,gBAAZ;AACAP,YAAAA,OAAO,CAACO,GAAR,CAAY,wBAAZ;AAFS;AAAA,mBAGHC,gBAAOC,KAAP,CAAa;AACfC,cAAAA,IAAI,EAAEjB,cAAc,CAACiB,IADN;AAEfC,cAAAA,IAAI,EAAElB,cAAc,CAACkB;AAFN,aAAb,EAGHL,MAHG,CAHG;;AAAA;AAOTN,YAAAA,OAAO,CAACO,GAAR,6BAAiCd,cAAc,CAACkB,IAAhD,cAAwDlB,cAAc,CAACiB,IAAvE;;AAPS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJL,IAAI;AAAA;AAAA;AAAA,GAAV;;AAUAF,QAAQ,CAACL,EAAT,CAAY,UAAZ,EAAwBO,IAAxB;AACAF,QAAQ,CAACL,EAAT,CAAY,UAAZ,EAAwB,UAACC,GAAD;AAAA,SAASC,OAAO,CAACO,GAAR,CAAY,oBAAZ,EAAkCR,GAAlC,CAAT;AAAA,CAAxB;AAEAH,EAAE,CAACgB,OAAH,CAAWjB,UAAX,EAAuBQ,QAAvB;AAEAA,QAAQ,CAACU,IAAT,CAAc,YAAd","sourcesContent":["import { EventEmitter } from 'events'\nimport server from './server/server'\nimport config from './config/'\n\nconst { serverSettings, dbSettings, db } = config;\n\nprocess.on('uncaughtException', (err) => {\n    console.error('Unhandled Exception', err)\n});\nprocess.on('uncaughtRejection', (err, promise) => {\n    console.error('Unhandled Rejection', err)\n});\n\nconst mediator = new EventEmitter();\nconst main = async (models) => {\n    console.log('Database ready')\n    console.log('Initializing server...')\n    await server.start({\n        port: serverSettings.port,\n        host: serverSettings.host\n    }, models);\n    console.log(`Server running on ${serverSettings.host}:${serverSettings.port}`);\n}\n\nmediator.on('db.ready', main);\nmediator.on('db.error', (err) => console.log('Conection error...', err));\n\ndb.connect(dbSettings, mediator);\n\nmediator.emit('boot.ready');"],"file":"index.js"}